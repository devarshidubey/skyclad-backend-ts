{"level":"info","message":"DB connected","service":"user-service"}
{"level":"info","message":"DB connected","service":"user-service"}
{"level":"info","message":"DB connected","service":"user-service"}
{"level":"info","message":"DB connected","service":"user-service"}
{"level":"info","message":"DB connected","service":"user-service"}
{"level":"info","message":"DB connected","service":"user-service"}
{"level":"error","message":"Cast to ObjectId failed for value \"{ id: '03359074-e4d9-400f-b193-7de2f7ea1d79' }\" (type Object) at path \"_id\" for model \"User\"","service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"{ id: '03359074-e4d9-400f-b193-7de2f7ea1d79' }\" (type Object) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1259:12)\n    at SchemaType.castForQuery (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1695:17)\n    at cast (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\cast.js:319:34)\n    at Query.cast (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:3477:8)\n    at model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateUserRole (file:///D:/work/skyclad_backend/dist/services/user/user.service.js:3:25)"}
{"level":"info","message":"DB connected","service":"user-service"}
{"level":"error","message":"[\n  {\n    \"origin\": \"string\",\n    \"code\": \"invalid_format\",\n    \"format\": \"regex\",\n    \"pattern\": \"/^[a-zA-Z0-9 _.-]{1,100}$/\",\n    \"path\": [\n      \"filename\"\n    ],\n    \"message\": \"Invalid filename\"\n  }\n]","service":"user-service","stack":"ZodError: [\n  {\n    \"origin\": \"string\",\n    \"code\": \"invalid_format\",\n    \"format\": \"regex\",\n    \"pattern\": \"/^[a-zA-Z0-9 _.-]{1,100}$/\",\n    \"path\": [\n      \"filename\"\n    ],\n    \"message\": \"Invalid filename\"\n  }\n]\n    at createDocument (file:///D:/work/skyclad_backend/dist/controllers/document/document.controller.js:7:45)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (file:///D:/work/skyclad_backend/dist/middlewares/auth.middleware.js:18:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\work\\skyclad_backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\work\\skyclad_backend\\node_modules\\router\\index.js:295:15"}
{"level":"error","message":"Cannot call `create()` with a session and multiple documents unless `ordered: true` is set","service":"user-service","stack":"MongooseError: Cannot call `create()` with a session and multiple documents unless `ordered: true` is set\n    at Function.create (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\model.js:2711:11)\n    at file:///D:/work/skyclad_backend/dist/services/document/document.service.js:43:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runInTransaction (file:///D:/work/skyclad_backend/dist/utils/transaction.js:6:24)\n    at async createDocument (file:///D:/work/skyclad_backend/dist/controllers/document/document.controller.js:9:24)"}
{"level":"error","message":"Cannot call `create()` with a session and multiple documents unless `ordered: true` is set","service":"user-service","stack":"MongooseError: Cannot call `create()` with a session and multiple documents unless `ordered: true` is set\n    at Function.create (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\model.js:2711:11)\n    at file:///D:/work/skyclad_backend/dist/services/document/document.service.js:43:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async runInTransaction (file:///D:/work/skyclad_backend/dist/utils/transaction.js:6:24)\n    at async createDocument (file:///D:/work/skyclad_backend/dist/controllers/document/document.controller.js:9:24)"}
{"level":"error","message":"E11000 duplicate key error collection: skyclad-db.documents index: filename_1 dup key: { filename: \"15 aug 2025\" }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: skyclad-db.documents index: filename_1 dup key: { filename: \"15 aug 2025\" }\n    at InsertOneOperation.handleOk (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:154:16)"}
{"level":"error","message":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: skyclad-db.tags index: name_1 dup key: { name: \"invoice_2025\" }","service":"user-service","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: skyclad-db.tags index: name_1 dup key: { name: \"invoice_2025\" }\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:306:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:334:26)\n    at async Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\sdam\\server.js:194:29)\n    at async tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:213:32)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:544:16)\n    at async model.Query._findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:3536:13)\n    at async model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///D:/work/skyclad_backend/dist/services/document/document.service.js:8:31"}
{"level":"error","message":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: skyclad-db.tags index: name_1 dup key: { name: \"invoice_2025\" }","service":"user-service","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: skyclad-db.tags index: name_1 dup key: { name: \"invoice_2025\" }\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:306:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:334:26)\n    at async Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\sdam\\server.js:194:29)\n    at async tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:213:32)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:544:16)\n    at async model.Query._findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:3536:13)\n    at async model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///D:/work/skyclad_backend/dist/services/document/document.service.js:8:31"}
{"level":"error","message":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: skyclad-db.tags index: name_1 dup key: { name: \"invoice_2025\" }","service":"user-service","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: skyclad-db.tags index: name_1 dup key: { name: \"invoice_2025\" }\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:306:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:334:26)\n    at async Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\sdam\\server.js:194:29)\n    at async tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:213:32)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:544:16)\n    at async model.Query._findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:3536:13)\n    at async model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///D:/work/skyclad_backend/dist/services/document/document.service.js:8:31"}
{"level":"error","message":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: skyclad-db.tags index: name_1 dup key: { name: \"invoice_2025\" }","service":"user-service","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: skyclad-db.tags index: name_1 dup key: { name: \"invoice_2025\" }\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:306:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:334:26)\n    at async Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\sdam\\server.js:194:29)\n    at async tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:213:32)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:544:16)\n    at async model.Query._findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:3536:13)\n    at async model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at async file:///D:/work/skyclad_backend/dist/services/document/document.service.js:8:31"}
{"level":"error","message":"E11000 duplicate key error collection: skyclad-db.documents index: filename_1 dup key: { filename: \"14 aug 2025\" }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: skyclad-db.documents index: filename_1 dup key: { filename: \"14 aug 2025\" }\n    at InsertOneOperation.handleOk (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:154:16)"}
{"level":"error","message":"E11000 duplicate key error collection: skyclad-db.documents index: filename_1 dup key: { filename: \"14 aug 2025\" }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: skyclad-db.documents index: filename_1 dup key: { filename: \"14 aug 2025\" }\n    at InsertOneOperation.handleOk (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:154:16)"}
{"level":"error","message":"E11000 duplicate key error collection: skyclad-db.documents index: ownerId_1_primaryTagId_1_filename_1 dup key: { ownerId: ObjectId('68ef4d7a01d3cebe88c1e379'), primaryTagId: ObjectId('68f0f92f2b3acbcb664671a3'), filename: \"02 Jan 2025\" }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: skyclad-db.documents index: ownerId_1_primaryTagId_1_filename_1 dup key: { ownerId: ObjectId('68ef4d7a01d3cebe88c1e379'), primaryTagId: ObjectId('68f0f92f2b3acbcb664671a3'), filename: \"02 Jan 2025\" }\n    at InsertOneOperation.handleOk (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:154:16)"}
{"level":"error","message":"Cast to ObjectId failed for value \"invoice_2020\" (type string) at path \"primaryTagId\" for model \"Document\"","service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"invoice_2020\" (type string) at path \"primaryTagId\" for model \"Document\"\n    at SchemaObjectId.cast (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1259:12)\n    at SchemaType.castForQuery (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1695:17)\n    at cast (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async processFolderAction (file:///D:/work/skyclad_backend/dist/services/action/action.service.js:10:23)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\lib\\bson.cjs:2538:23)\n    at getDocument (file:///D:/work/skyclad_backend/dist/controllers/document/document.controller.js:7:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at file:///D:/work/skyclad_backend/dist/middlewares/permissions.middleware.js:12:9\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (file:///D:/work/skyclad_backend/dist/middlewares/auth.middleware.js:18:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"DB disconnected","service":"user-service"}
{"level":"error","message":"DB disconnected","service":"user-service"}
{"level":"error","message":"429 We're experiencing high traffic right now! Please try again soon.","service":"user-service","stack":"Error: 429 We're experiencing high traffic right now! Please try again soon.\n    at APIError.generate (file:///D:/work/skyclad_backend/node_modules/@cerebras/cerebras_cloud_sdk/error.mjs:54:20)\n    at Cerebras.makeStatusError (file:///D:/work/skyclad_backend/node_modules/@cerebras/cerebras_cloud_sdk/core.mjs:286:25)\n    at Cerebras.makeRequest (file:///D:/work/skyclad_backend/node_modules/@cerebras/cerebras_cloud_sdk/core.mjs:332:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async askCerebras (file:///D:/work/skyclad_backend/dist/services/action/cerebras.service.js:11:20)\n    at async classifyOCRInput (file:///D:/work/skyclad_backend/dist/services/webhook/webhook.service.js:19:20)\n    at async ocrController (file:///D:/work/skyclad_backend/dist/controllers/webhook/ocr.controller.js:8:24)"}
{"level":"error","message":"429 We're experiencing high traffic right now! Please try again soon.","service":"user-service","stack":"Error: 429 We're experiencing high traffic right now! Please try again soon.\n    at APIError.generate (file:///D:/work/skyclad_backend/node_modules/@cerebras/cerebras_cloud_sdk/error.mjs:54:20)\n    at Cerebras.makeStatusError (file:///D:/work/skyclad_backend/node_modules/@cerebras/cerebras_cloud_sdk/core.mjs:286:25)\n    at Cerebras.makeRequest (file:///D:/work/skyclad_backend/node_modules/@cerebras/cerebras_cloud_sdk/core.mjs:332:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async askCerebras (file:///D:/work/skyclad_backend/dist/services/action/cerebras.service.js:11:20)\n    at async classifyOCRInput (file:///D:/work/skyclad_backend/dist/services/webhook/webhook.service.js:19:20)\n    at async ocrController (file:///D:/work/skyclad_backend/dist/controllers/webhook/ocr.controller.js:8:24)"}
{"level":"error","message":"AI Agent rate limited due to high traffic","service":"user-service","stack":"Error: AI Agent rate limited due to high traffic\n    at askCerebrasWithRetry (file:///D:/work/skyclad_backend/dist/services/action/cerebras.service.js:45:11)\n    at async classifyOCRInput (file:///D:/work/skyclad_backend/dist/services/webhook/webhook.service.js:19:20)\n    at async ocrController (file:///D:/work/skyclad_backend/dist/controllers/webhook/ocr.controller.js:8:24)"}
{"level":"error","message":"Task validation failed: sourceId: Path `sourceId` is required.","service":"user-service","stack":"ValidationError: Task validation failed: sourceId: Path `sourceId` is required.\n    at Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Cannot set headers after they are sent to the client","service":"user-service","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:399:5)\n    at ServerResponse.setHeader (node:_http_outgoing:649:11)\n    at ServerResponse.header (D:\\work\\skyclad_backend\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (D:\\work\\skyclad_backend\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (D:\\work\\skyclad_backend\\node_modules\\express\\lib\\response.js:250:15)\n    at runAction (file:///D:/work/skyclad_backend/dist/controllers/action/action.controller.js:22:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"E11000 duplicate key error collection: skyclad-db.documenttags index: id_1 dup key: { id: null }","service":"user-service","stack":"MongoBulkWriteError: E11000 duplicate key error collection: skyclad-db.documenttags index: id_1 dup key: { id: null }\n    at OrderedBulkOperation.handleWriteError (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderedBulkOperation.execute (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\bulk\\common.js:793:16)\n    at async Collection.bulkWrite (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:171:25)"}
{"level":"error","message":"E11000 duplicate key error collection: skyclad-db.documenttags index: id_1 dup key: { id: null }","service":"user-service","stack":"MongoBulkWriteError: E11000 duplicate key error collection: skyclad-db.documenttags index: id_1 dup key: { id: null }\n    at OrderedBulkOperation.handleWriteError (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\bulk\\common.js:804:19)\n    at executeCommands (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\bulk\\common.js:346:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderedBulkOperation.execute (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\bulk\\common.js:793:16)\n    at async Collection.bulkWrite (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:224:16)\n    at async Collection.insertMany (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:171:25)"}
{"level":"error","message":"Document validation failed: filename: Invalid filename","service":"user-service","stack":"ValidationError: Document validation failed: filename: Invalid filename\n    at Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"info","message":{"action":"SCOPED_ACTION","at":"2025-10-18T13:57:04.185Z","entityId":"68f39caf0d367ea62b0910f3","entityType":"Document","metadata":{"ownerId":"68ef30e3b588f8e805e6993d","role":"admin"},"userId":"68ef30e3b588f8e805e6993d"},"service":"user-service"}
{"level":"info","message":{"action":"SCOPED_ACTION","at":"2025-10-18T13:58:27.695Z","entityId":"68f39d033b69296c5fc770df","entityType":"Document","metadata":{"ownerId":"68ef30e3b588f8e805e6993d","role":"admin"},"userId":"68ef30e3b588f8e805e6993d"},"service":"user-service"}
{"level":"info","message":{"action":"SCOPED_ACTION","at":"2025-10-18T13:59:00.862Z","entityId":"68f39d24766080105c203bf1","entityType":"Document","metadata":{"ownerId":"68ef30e3b588f8e805e6993d","role":"admin"},"userId":"68ef30e3b588f8e805e6993d"},"service":"user-service"}
{"action":"SCOPED_ACTION","at":"2025-10-18T14:05:30.660Z","entityId":"68f39eaa5002cacda275f45e","entityType":"Document","level":"info","message":{"action":"SCOPED_ACTION","at":"2025-10-18T14:05:30.660Z","entityId":"68f39eaa5002cacda275f45e","entityType":"Document","metadata":{"accessLevel":"own","ownerId":"68ef30e3b588f8e805e6993d","role":"admin"},"userId":"68ef30e3b588f8e805e6993d"},"metadata":{"accessLevel":"own","ownerId":"68ef30e3b588f8e805e6993d","role":"admin"},"service":"user-service","userId":"68ef30e3b588f8e805e6993d"}
{"action":"SCOPED_ACTION","at":"2025-10-18T14:10:56.333Z","entityId":"68f39ff039f90f1b26c852fd","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68ef30e3b588f8e805e6993d","role":"admin"},"service":"user-service","userId":"68ef30e3b588f8e805e6993d"}
{"level":"error","message":"[\n  {\n    \"expected\": \"object\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"scope\"\n    ],\n    \"message\": \"Invalid input: expected object, received undefined\"\n  },\n  {\n    \"expected\": \"array\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"messages\"\n    ],\n    \"message\": \"Invalid input: expected array, received undefined\"\n  },\n  {\n    \"expected\": \"array\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"actions\"\n    ],\n    \"message\": \"Invalid input: expected array, received undefined\"\n  }\n]","service":"user-service","stack":"ZodError: [\n  {\n    \"expected\": \"object\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"scope\"\n    ],\n    \"message\": \"Invalid input: expected object, received undefined\"\n  },\n  {\n    \"expected\": \"array\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"messages\"\n    ],\n    \"message\": \"Invalid input: expected array, received undefined\"\n  },\n  {\n    \"expected\": \"array\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"actions\"\n    ],\n    \"message\": \"Invalid input: expected array, received undefined\"\n  }\n]\n    at runAction (file:///D:/work/skyclad_backend/dist/controllers/action/action.controller.js:9:59)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at file:///D:/work/skyclad_backend/dist/middlewares/permissions.middleware.js:12:9\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (file:///D:/work/skyclad_backend/dist/middlewares/auth.middleware.js:18:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:117:3)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T16:46:29.500Z","entityId":"68f3c46538cacb75b271d79a","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f3c42c38cacb75b271d795","role":"user"},"service":"user-service","userId":"68f3c42c38cacb75b271d795"}
{"action":"SCOPED_ACTION","at":"2025-10-18T16:49:29.536Z","entityId":"68f3c51938cacb75b271d7a8","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f3c42c38cacb75b271d795","role":"user"},"service":"user-service","userId":"68f3c42c38cacb75b271d795"}
{"action":"SCOPED_ACTION","at":"2025-10-18T16:49:59.958Z","entityId":"68f3c53738cacb75b271d7ba","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f3c42c38cacb75b271d795","role":"user"},"service":"user-service","userId":"68f3c42c38cacb75b271d795"}
{"action":"TASK_CREATE","at":"2025-10-18T16:50:35.315Z","entityId":"68f3c55b38cacb75b271d7c6","entityType":"Task","level":"info","message":"","metadata":{},"service":"user-service","userId":"68f3c42c38cacb75b271d795"}
{"action":"OCR_INJESTION","at":"2025-10-18T16:50:35.316Z","entityId":null,"entityType":"OCR","level":"info","message":"","metadata":{"ownerId":"68f3c42c38cacb75b271d795","role":"user"},"service":"user-service","userId":"68f3c42c38cacb75b271d795"}
{"level":"error","message":"DB disconnected","service":"user-service"}
{"level":"error","message":"Database connection not available","service":"user-service","stack":"Error: Database connection not available\n    at getTotalActions (file:///D:/work/skyclad_backend/dist/services/audit/audit.service.js:26:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async fetchMetrics (file:///D:/work/skyclad_backend/dist/services/audit/audit.service.js:47:27)\n    at async auditController (file:///D:/work/skyclad_backend/dist/controllers/audit/audit.controller.js:7:22)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T17:23:15.582Z","entityId":"68f3cd0398b557c27bc133eb","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f3c42c38cacb75b271d795","role":"user"},"service":"user-service","userId":"68f3c42c38cacb75b271d795"}
{"level":"error","message":"E11000 duplicate key error collection: skyclad-db.tags index: name_1_ownerId_1 dup key: { name: \"devasrhi\", ownerId: ObjectId('68ef50dcaf7a2058fb1690cc') }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: skyclad-db.tags index: name_1_ownerId_1 dup key: { name: \"devasrhi\", ownerId: ObjectId('68ef50dcaf7a2058fb1690cc') }\n    at InsertOneOperation.handleOk (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:78:16)\n    at async Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\lib\\collection.js:154:16)"}
{"action":"OCR_INJESTION","at":"2025-10-18T18:15:00.337Z","entityId":null,"entityType":"OCR","level":"info","message":"","metadata":{"ownerId":"68f3c42c38cacb75b271d795","role":"user"},"service":"user-service","userId":"68f3c42c38cacb75b271d795"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Transaction numbers are only allowed on a replica set member or mongos","service":"user-service","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:1041:12)\n    at model.Query._findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:3536:13)\n    at model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at D:\\work\\skyclad_backend\\src\\services\\document\\document.service.ts:52:31"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Transaction numbers are only allowed on a replica set member or mongos","service":"user-service","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:1041:12)\n    at model.Query._findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:3536:13)\n    at model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at D:\\work\\skyclad_backend\\src\\services\\document\\document.service.ts:52:31"}
{"level":"error","message":"Transaction numbers are only allowed on a replica set member or mongos","service":"user-service","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:1041:12)\n    at model.Query._findOneAndUpdate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:3536:13)\n    at model.Query.exec (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:4627:63)\n    at D:\\work\\skyclad_backend\\src\\services\\document\\document.service.ts:52:31"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:32:19.747Z","entityId":"68f40763df5daf808ba794b3","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40762df5daf808ba79493","role":"user"},"service":"user-service","userId":"68f40762df5daf808ba79493"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:35:08.470Z","entityId":"68f4080ce3474c71a338fb06","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4080be3474c71a338fae6","role":"user"},"service":"user-service","userId":"68f4080be3474c71a338fae6"}
{"level":"error","message":"Client must be connected before running operations","service":"user-service","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at autoConnect (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:139:13)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:71:25)\n    at FindCursor._initialize (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cursor\\find_cursor.ts:92:44)\n    at FindCursor.cursorInit (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:949:32)\n    at FindCursor.fetchBatch (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:987:18)\n    at FindCursor.next (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:608:20)\n    at FindCursor.[Symbol.asyncIterator] (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:502:37)\n    at AsyncGenerator.next (<anonymous>)\n    at FindCursor.toArray (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:696:22)\n    at model.Query._find (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\query.js:2430:27)"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:35:30.690Z","entityId":"68f40822b3f9f7e48fc85ac7","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40821b3f9f7e48fc85aa7","role":"user"},"service":"user-service","userId":"68f40821b3f9f7e48fc85aa7"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:35:34.869Z","entityId":"68f40826b3f9f7e48fc85ad7","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40821b3f9f7e48fc85aa7","role":"user"},"service":"user-service","userId":"68f40821b3f9f7e48fc85aa7"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:36:03.222Z","entityId":"68f4084313f9447975fdf524","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4084213f9447975fdf503","role":"user"},"service":"user-service","userId":"68f4084213f9447975fdf503"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:36:07.526Z","entityId":"68f4084713f9447975fdf534","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4084213f9447975fdf503","role":"user"},"service":"user-service","userId":"68f4084213f9447975fdf503"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:36:57.112Z","entityId":"68f40879eb044c2d5a0ecf87","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40877eb044c2d5a0ecf67","role":"user"},"service":"user-service","userId":"68f40877eb044c2d5a0ecf67"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:36:59.838Z","entityId":"68f4087beb044c2d5a0ecf97","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40877eb044c2d5a0ecf67","role":"user"},"service":"user-service","userId":"68f40877eb044c2d5a0ecf67"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:38:23.153Z","entityId":"68f408cff348d0ee9262a2ec","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f408cef348d0ee9262a2cc","role":"user"},"service":"user-service","userId":"68f408cef348d0ee9262a2cc"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:38:24.070Z","entityId":"68f408cff348d0ee9262a2fc","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f408cef348d0ee9262a2cc","role":"user"},"service":"user-service","userId":"68f408cef348d0ee9262a2cc"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:39:44.979Z","entityId":"68f409205314219a41e834a7","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4091f5314219a41e83487","role":"user"},"service":"user-service","userId":"68f4091f5314219a41e83487"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:39:45.699Z","entityId":"68f409215314219a41e834b7","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4091f5314219a41e83487","role":"user"},"service":"user-service","userId":"68f4091f5314219a41e83487"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:43:19.001Z","entityId":"68f409f6a792ab9e6a36923d","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f409f5a792ab9e6a36921d","role":"user"},"service":"user-service","userId":"68f409f5a792ab9e6a36921d"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:43:19.709Z","entityId":"68f409f7a792ab9e6a36924d","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f409f5a792ab9e6a36921d","role":"user"},"service":"user-service","userId":"68f409f5a792ab9e6a36921d"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:44:42.496Z","entityId":"68f40a4a9fffb5ef8ca74f57","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40a499fffb5ef8ca74f37","role":"user"},"service":"user-service","userId":"68f40a499fffb5ef8ca74f37"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:44:43.270Z","entityId":"68f40a4b9fffb5ef8ca74f67","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40a499fffb5ef8ca74f37","role":"user"},"service":"user-service","userId":"68f40a499fffb5ef8ca74f37"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:45:28.994Z","entityId":"68f40a78259e537da6cf836f","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40a77259e537da6cf834f","role":"user"},"service":"user-service","userId":"68f40a77259e537da6cf834f"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:45:29.683Z","entityId":"68f40a79259e537da6cf837f","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40a77259e537da6cf834f","role":"user"},"service":"user-service","userId":"68f40a77259e537da6cf834f"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:48:37.371Z","entityId":"68f40b351512221f1bfd54fd","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40b341512221f1bfd54dd","role":"user"},"service":"user-service","userId":"68f40b341512221f1bfd54dd"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:48:38.124Z","entityId":"68f40b361512221f1bfd550d","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40b341512221f1bfd54dd","role":"user"},"service":"user-service","userId":"68f40b341512221f1bfd54dd"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at model.Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Tag validation failed: name: Invalid Tag Name","service":"user-service","stack":"ValidationError: Tag validation failed: name: Invalid Tag Name\n    at Document.invalidate (D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at D:\\work\\skyclad_backend\\node_modules\\mongoose\\lib\\schemaType.js:1417:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T21:56:49.985Z","entityId":"68f40d2144ffbd240905e78b","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40d2044ffbd240905e76b","role":"user"},"service":"user-service","userId":"68f40d2044ffbd240905e76b"}
{"action":"SCOPED_ACTION","at":"2025-10-18T21:56:52.305Z","entityId":"68f40d2444ffbd240905e79b","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f40d2044ffbd240905e76b","role":"user"},"service":"user-service","userId":"68f40d2044ffbd240905e76b"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:23:30.377Z","entityId":"68f41362c61500afceb6f31b","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f41361c61500afceb6f2fb","role":"user"},"service":"user-service","userId":"68f41361c61500afceb6f2fb"}
{"action":"SCOPED_ACTION","at":"2025-10-18T22:23:31.664Z","entityId":"68f41363c61500afceb6f32b","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f41361c61500afceb6f2fb","role":"user"},"service":"user-service","userId":"68f41361c61500afceb6f2fb"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:26:42.913Z","entityId":"68f41422f66ad80f7a82c606","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f41421f66ad80f7a82c5f6","role":"user"},"service":"user-service","userId":"68f41421f66ad80f7a82c5f6"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:26:42.949Z","entityId":"68f41422f66ad80f7a82c614","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f41422f66ad80f7a82c5f9","role":"user"},"service":"user-service","userId":"68f41422f66ad80f7a82c5f9"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:29:28.113Z","entityId":"68f414c8de291b58555e3c68","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f414c7de291b58555e3c58","role":"user"},"service":"user-service","userId":"68f414c7de291b58555e3c58"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:29:28.162Z","entityId":"68f414c8de291b58555e3c76","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f414c7de291b58555e3c5b","role":"user"},"service":"user-service","userId":"68f414c7de291b58555e3c5b"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"level":"error","message":"input must be a 24 character hex string, 12 byte Uint8Array, or an integer","service":"user-service","stack":"BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer\n    at new ObjectId (D:\\work\\skyclad_backend\\node_modules\\bson\\src\\objectid.ts:120:15)\n    at getDocumentController (D:\\work\\skyclad_backend\\src\\controllers\\document\\document.controller.ts:16:28)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at D:\\work\\skyclad_backend\\src\\middlewares\\permissions.middleware.ts:16:5\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authorize (D:\\work\\skyclad_backend\\src\\middlewares\\auth.middleware.ts:24:9)\n    at Layer.handleRequest (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\work\\skyclad_backend\\node_modules\\router\\lib\\route.js:157:13)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:30:41.433Z","entityId":"68f415117ac8f2bef62ee2fa","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f415107ac8f2bef62ee2ea","role":"user"},"service":"user-service","userId":"68f415107ac8f2bef62ee2ea"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:30:41.477Z","entityId":"68f415117ac8f2bef62ee308","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f415107ac8f2bef62ee2ed","role":"user"},"service":"user-service","userId":"68f415107ac8f2bef62ee2ed"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:33:03.300Z","entityId":"68f4159f8258b1475b6d317b","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4159e8258b1475b6d316b","role":"user"},"service":"user-service","userId":"68f4159e8258b1475b6d316b"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:33:03.335Z","entityId":"68f4159f8258b1475b6d3189","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4159e8258b1475b6d316e","role":"user"},"service":"user-service","userId":"68f4159e8258b1475b6d316e"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:36:33.075Z","entityId":"68f4167191f8f1196fb351fa","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4166f91f8f1196fb351ed","role":"user"},"service":"user-service","userId":"68f4166f91f8f1196fb351ed"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:36:33.097Z","entityId":"68f4167191f8f1196fb35202","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4167091f8f1196fb351f3","role":"user"},"service":"user-service","userId":"68f4167091f8f1196fb351f3"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:36:33.116Z","entityId":"68f416714fe39bcacbbbc3e1","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4166f4fe39bcacbbbc3d0","role":"user"},"service":"user-service","userId":"68f4166f4fe39bcacbbbc3d0"}
{"action":"SCOPED_ACTION","at":"2025-10-18T22:36:33.919Z","entityId":"68f416714fe39bcacbbbc3f1","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4166f4fe39bcacbbbc3d0","role":"user"},"service":"user-service","userId":"68f4166f4fe39bcacbbbc3d0"}
{"level":"error","message":"not primary","service":"user-service","stack":"MongoServerError: not primary\n    at Connection.sendCommand (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Connection.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:350:21)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:39:48.061Z","entityId":"68f417346dfd34cda449b6ff","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f417336dfd34cda449b6f4","role":"user"},"service":"user-service","userId":"68f417336dfd34cda449b6f4"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:39:48.079Z","entityId":"68f417346dfd34cda449b707","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f417336dfd34cda449b6f7","role":"user"},"service":"user-service","userId":"68f417336dfd34cda449b6f7"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:39:48.599Z","entityId":"68f41734cb6b0dabb6265f0b","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f41733cb6b0dabb6265ef9","role":"user"},"service":"user-service","userId":"68f41733cb6b0dabb6265ef9"}
{"level":"error","message":"operation was interrupted","service":"user-service","stack":"MongoWriteConcernError: operation was interrupted\n    at throwIfWriteConcernError (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\write_concern.ts:180:13)\n    at Server.command (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\sdam\\server.ts:351:33)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at tryOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:289:24)\n    at executeOperation (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:119:12)\n    at Collection.insertOne (D:\\work\\skyclad_backend\\node_modules\\mongodb\\src\\collection.ts:294:12)"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:40:19.906Z","entityId":"68f41753fa4327d7eb06e3d8","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f41752fa4327d7eb06e3c9","role":"user"},"service":"user-service","userId":"68f41752fa4327d7eb06e3c9"}
{"action":"SCOPED_ACTION","at":"2025-10-18T22:40:20.971Z","entityId":"68f41754fa4327d7eb06e3e8","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f41752fa4327d7eb06e3c9","role":"user"},"service":"user-service","userId":"68f41752fa4327d7eb06e3c9"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:40:21.063Z","entityId":"68f4175593ef615ac6379ad6","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4175493ef615ac6379acb","role":"user"},"service":"user-service","userId":"68f4175493ef615ac6379acb"}
{"action":"DOCUMENT_UPLOAD","at":"2025-10-18T22:40:21.081Z","entityId":"68f4175593ef615ac6379ade","entityType":"Document","level":"info","message":"","metadata":{"accessLevel":"own","ownerId":"68f4175493ef615ac6379ace","role":"user"},"service":"user-service","userId":"68f4175493ef615ac6379ace"}
